{% load static %}

{% include 'util/dashboard_admin/head.html' %}

 <!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">

            <div class="row page-titles mx-0">
                <div class="col p-md-0">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javascript:void(0)">Dashboard</a></li>
                        <li class="breadcrumb-item active"><a href="javascript:void(0)">Home</a></li>
                    </ol>
                </div>
            </div>
            <!-- row -->

            <div class="container-fluid">
                <div class="row">
                    
                    <div class="col-lg-12">

                        <div class="card">
                            {% if messages %}
                            {% for message in messages %}
                            <div class="alert {% if message.tags == 'info' %} alert-warning {% else %} alert-success {% endif %} alert-dismissible fade show">
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">Ã—</span>
                            </button> 
                            <strong>{{ message }}</strong></div>
                            {% endfor %}
                            {% endif %} 
                            <br>
                            <div class="card-body">
                                <h4 class="card-title">Settings</h4>
                                <div class="basic-form">
                                    <form action="" method="POST">    
                                        <input type="hidden" value="disabled" name="type">          
                                        {% csrf_token %}
                                        <div class="form-group row">
                                            <div class="col-sm-2">Tambah Kategori</div>
                                            <div class="col-sm-10">
                                                <div class="form-check">
                                                    <input
                                                    {% if disable.kategori %}
                                                    checked="checked"
                                                    {% endif %}
                                                     name="{{form.kategori.name}}" class="form-check-input" type="checkbox">
                                                    {% if disable.kategori %}
                                                    <label class="form-check-label">Disabled</label>
                                                    {% else %}
                                                    <label class="form-check-label">Enabled</label>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-sm-2">Tambah Location</div>
                                            <div class="col-sm-10">
                                                <div class="form-check">
                                                    <input
                                                    {% if disable.location %}
                                                    checked="checked"
                                                    {% endif %}
                                                    name="{{form.location.name}}" class="form-check-input" type="checkbox">
                                                    {% if disable.location %}
                                                    <label class="form-check-label">Disabled</label>
                                                    {% else %}
                                                    <label class="form-check-label">Enabled</label>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-sm-2">Tambah Education</div>
                                            <div class="col-sm-10">
                                                <div class="form-check">
                                                    <input 
                                                    {% if disable.education %}
                                                    checked="checked"
                                                    {% endif %}
                                                    name="{{form.education.name}}" class="form-check-input" type="checkbox">
                                                    {% if disable.education %}
                                                    <label class="form-check-label">Disabled</label>
                                                    {% else %}
                                                    <label class="form-check-label">Enabled</label>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                         <div class="form-group row">
                                            <div class="col-sm-2">Tambah Tipe Pekerjaan</div>
                                            <div class="col-sm-10">
                                                <div class="form-check">
                                                    <input 
                                                    {% if disable.tipe %}
                                                    checked="checked"
                                                    {% endif %}
                                                    name="{{form.tipe.name}}" class="form-check-input" type="checkbox">
                                                    {% if disable.tipe %}
                                                    <label class="form-check-label">Disabled</label>
                                                    {% else %}
                                                    <label class="form-check-label">Enabled</label>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-sm-10">
                                                <button type="submit" class="btn btn-dark">Set</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Profile Perusahaan</h4>
                                
                                <div class="basic-form">

                                    <form id="forms"  enctype="multipart/form-data" action="" method="POST">{% csrf_token %}
                                        <input type="hidden" value="profile" name="type">
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label"><b>Nama Perusahaan</b></label>
                                            <div class="col-sm-9">
                                                <input required name="{{formProfile.name.name}}" value="{{profileP.name}}" maxlength="255" type="text" class="form-control" placeholder="Nama Perusahaan">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label"><b>Slogan Perusahaan</b></label>
                                            <div class="col-sm-9">
                                                <input required name="{{formProfile.slogan.name}}" value="{{profileP.slogan}}" maxlength="255" type="text" class="form-control" placeholder="Slogan Perusahaan">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label"><b>Website Perusahaan</b></label>
                                            <div class="col-sm-9">
                                                <input required name="{{formProfile.web.name}}"  maxlength="255" type="text" class="form-control" value="{{profileP.web}}" placeholder="https://wwww.pt.com">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label"><b>Email Perusahaan</b></label>
                                            <div class="col-sm-9">
                                                <input required name="{{formProfile.email.name}}" maxlength="255" value="{{profileP.email}}" type="email" class="form-control" placeholder="busnies@domain.com">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label"><b>Address Perusahaan</b></label>
                                            <div class="col-sm-9">
                                                <input name="{{formProfile.address.name}}" placeholder="Your Company Address" class="form-control" value="{{profileP.address}}" />
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label"><b>Phone Perusahaan</b></label>
                                            <div class="col-sm-9">
                                                <input required oninput="limitDigits(this)" type="number" value="{{profileP.phone}}" name="{{formProfile.phone.name}}" placeholder="Your Company Phone" class="form-control"/>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label"><b>Profile Perusahaan</b></label>
                                            <div class="col-sm-9">
                                                <img src="https://i0.wp.com/picjumbo.com/wp-content/uploads/beautiful-fall-waterfall-free-image.jpeg?w=600&quality=80" style="margin-bottom: 10px; border-radius:10px;" width="150" height="150">
                                               <input name="{{formProfile.file.name}}"  type="file" class="form-control">
                                               <input type="hidden" value="" name="{{formProfile.images.name}}">
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-sm-3 col-form-label"><b>Tentang</b></label>
                                            <div class="col-sm-9">
                                                <input required id="deskripsi" type="hidden" name="{{formProfile.tentang.name}}" class="form-control">
                                                 <div id="editor" class="form-control" style="height: 300px;">
                                                 {% autoescape off %}    
                                                 {{profileP.tentang}}
                                                 {% endautoescape %}
                                                 </div>
                                            </div>
                                            <script>
                                            const quill = new Quill('#editor', {
                                              modules: {
                                                toolbar: [
                                                  ['bold', 'italic', 'underline'],
                                                ],
                                              },
                                              placeholder: 'Compose an epic...',
                                              theme: 'snow', // or 'bubble'
                                            });    
                                            function limitDigits(input) {
                                                const maxLength = 12;
                                                if (input.value.length > maxLength) {
                                                  input.value = input.value.slice(0, maxLength);
                                                }
                                            }   
                                            form = document.getElementById("forms")

                                            form.addEventListener("submit",(e) => {
                                                e.preventDefault()
                                                const content = quill.root.innerHTML
                                                if (content == "<p><br></p>") {
                                                    
                                                }else {
                                                    document.getElementById("deskripsi").value = content
                                                }
                                                form.submit()

                                            })
                                            </script>
                                        </div>
                                        <button type="submit" class="btn btn-dark">Set Profile</button>
                                    </form>
                                </div>
                            </div>
                        </div>



                    </div>
                    

                </div>
            </div>
            <!-- #/ container -->
        </div>
        <!--**********************************
            Content body end
        ***********************************-->

{% include 'util/dashboard_admin/foot.html' %}                    